<div class="personal-info-wrapper">

  <% if current_user.has_role? :student %>
  <!-- student info -->
    <h3 class="username"><%= @users.username %></h3>
    <p><span class="school-name"><%= @users.school %></span> <span class="grade"><%= @grade %></span></p>


    <%= form_tag("/groups/add_student", method: "get") do %>
      <%= text_field_tag(:group_id) %>
      <%= submit_tag("加入群組") %>
    <% end %>

    <div class="list-group">
      <li class="list-group-item active"><strong>群組</strong></li>
      <% @groups.each do |group| %>
        <li class="list-group-item"><span class="badge">9</span><%= link_to("#老師   #{group.name}", group_path(group)) %></li>
      <% end %>
    </div>
  <% else %>
    <!-- teacher info   -->
    
    <h2 class="username"><%= @users.username %></h2>
    <p><h4>服務單位：<%= @users.service_unit %></h4></p>
    <p><h4>教授科目：<%= @users.suject %></h4></p>
    <button type="button" class="btn btn-default"><%= link_to("建立群組", new_teacher_group_path(@users.id)) %></button>
    <!-- list all group -->
    <div class="list-group">
      <li class="list-group-item active"><strong>群組</strong></li>
      <% @groups.each do |group| %>
        <li class="list-group-item"><span class="badge">9</span><%= link_to(group.name, teacher_group_path(@users, group.id)) %></li>
      <% end %>
    </div>
    <!-- list all subject -->
    <ul class="list-group">
      <li class="list-group-item list-group-item-warning"><strong>科目</strong></li>
      <%= form_tag(course_filter_courses_path, method: "get", remote: true) do %>
      
      <%= collection_check_boxes(:select_item, :subject_id, @subjects.all, :id, :title) do |b|%>
        <%= b.label(class: "list-group-item") { b.check_box + b.text } %>
      <% end %>
      <%= submit_tag("送出", class: "list-group-item") %>
      <% end %>
    </ul>
  <% end %>

</div>
