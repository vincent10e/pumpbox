<!-- header -->
<nav class="pumpbox-header-wrapper navbar navbar-default">
  <div class="pb-container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <%= link_to 'Pumpbox', root_path, class: "navbar-brand" %>
    </div>

    <div class="collapse navbar-collapse" id="main-menu">
      <ul class="nav navbar-nav navbar-right">
        <li class='<%= link_active?(root_path) %>'>
          <%= link_to root_path do %>
            <i class="fa fa-home"></i> 首頁
          <% end %>
        </li>
        <% if user_signed_in? %> 
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-user"></i> Hello, User <span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
              <li>
                <%= link_to edit_user_registration_path do %>
                  <i class="fa fa-edit"></i> 編輯個人資料
                <% end %>
              </li>
              <!-- other function here -->
              <li class="divider"></li>
              <li>
                <%= link_to destroy_user_session_path, method: :delete do%>
                  <i class="fa fa-sign-out"></i> 登出
                <% end %>
              </li>
            </ul>
          </li>
          <% if current_user.has_role? :teacher %>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-user"></i> 教師專區 <span class="caret"></span></a>
            
              <ul class="dropdown-menu" role="menu">
                <li>
                  <%= link_to edit_user_registration_path do %>
                    <i class="fa fa-users"></i> 建立群組
                  <% end %>
                </li>
                <li>
                  <%= link_to edit_user_registration_path do %>
                    <i class="fa fa-edit"></i> 建立課程
                  <% end %>
                </li>
                <!-- other function here -->
                <li class="divider"></li>
                <li>
                  <%= link_to destroy_user_session_path, method: :delete do%>
                    <i class="fa fa-sign-out"></i> 登出
                  <% end %>
                </li>
              </ul>
            </li>
          <% end %>
        <% else %> 
          <li> 
            <%= link_to new_user_registration_path do %>  
              <i class="fa fa-user-plus"></i> 註冊
            <% end %>
          </li>
          <li>
            <%= link_to new_user_session_path do%> 
              <i class="fa fa-sign-in"></i> 登入
            <% end %>
          </li>   
        <% end %>  

      </ul>
    </div><!-- e/o /.navbar-collapse -->
  </div><!-- e/o /.container-fluid -->
</nav>
